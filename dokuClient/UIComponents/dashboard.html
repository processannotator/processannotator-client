<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/neon-animation/neon-animatable-behavior.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-from-top-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-up-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-in-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/scale-down-animation.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="../bower_components/iron-list/iron-list.html">
<!-- <link rel="import" href="../bower_components/vaadin-grid/vaadin-grid.html"> -->
<link rel="import" href="../bower_components/paper-datatable/paper-datatable.html">

<!-- this element handles the selection of tools in the object view
it's not supposed to actually handle the editing itself, just:
(is a tool selected)?, (which tool is selected)? and corresponding events.
-->

<dom-module id="dash-board">

	<template>
	<style>

	:host {
	  background-color: #a6a6a6;
		padding: 0;
	}

	#createProjectBtn {
		background-color: white;
		width: 100%;
	}

	</style>
	<!-- <paper-material id="base" elevation="3"> -->
		<h1>Create</h1>
		<paper-button id="createProjectBtn" raised on-tap="createProjectClick"><iron-icon icon="add"></iron-icon>Create New Project</paper-button>

		<h1>Join</h1>
		<paper-input label="project name"></paper-input>

		<h1>Switch</h1>
		<paper-datatable data="{{projects}}" on-row-tap="rowTap">
			<paper-datatable-column header="ID" property="_id" sortable>
				<template>
					<span>{{value}}</span>
				</template>
			</paper-datatable-column>
			<paper-datatable-column header="Activity" property="activity" sortable>
				<template>
					<span>{{value}}</span>
				</template>
			</paper-datatable-column>
		</paper-datatable>


		</template>

<script>
Polymer({
	is: 'dash-board',
	behaviors: [
		Polymer.NeonAnimationRunnerBehavior
	],
	properties: {
		isVisible: Boolean,
		projects: Array,
		remoteUrl: String,
		animationConfig: {
			value: function() {
				return {
					'entry': [
						{name: 'slide-from-top-animation', node: this},
						{name: 'fade-in-animation', node: this}
					],
					'exit': [
						{name: 'slide-up-animation', node: this},
						{name: 'fade-out-animation', node: this}
					]
				}
			}
		}
	},
	listeners: {
		// this event is fired when the animation finishes
		'neon-animation-finish': '_onNeonAnimationFinish'
	},
	ready: function () {
		this.isVisible = false;
	},
	toggle: function() {
		console.log(this.remoteUrl);
		this.isVisible = !this.isVisible;
		if(this.isVisible) {
			this.style.display = "block";
			this.playAnimation('entry');
		} else {
			this.playAnimation('exit');
		}
	},
	_onNeonAnimationFinish: function() {
		if(this.isVisible === false) {
			this.style.display = "none";
		}
	},
	createProjectClick: function () {
		console.log('click');
		this.fire('boom');
	},
	rowTap: function (e) {
		console.log('clicked project', e.detail);
		this.fire('switch-project-click', e.detail.item);
	}
});

</script>

</dom-module>
